## 接口文档

### 1.1接口说明

#### 1.1.1.支持的请求方法

get:从服务器取出资源（一项或多项）

post:在服务器新建一个资源

delete:从服务器删除资源

#### 1.1.2通用返回状态说明

| 状态码 | 说明     |
| ------ | -------- |
| 200    | 成功     |
| 500    | 系统错误 |
| 401    | 权限不足 |
| 400    | 参数错误 |
| 600    |          |

### 1.2用户接口

#### 1.2.1新增或修改用户接口

1）

请求路径：user

请求方法：post

2）请求参数

| 参数名 | 参数说明     | 备注 |
| ------ | ------------ | ---- |
| User   | 用户实体对象 |      |

#### 1.2.2查找用户数据接口

1）

请求路径：user

请求方法：get

2）请求参数

| 参数名 | 参数说明 | 备注 |
| ------ | -------- | ---- |
| 无     |          |      |

3）响应参数

| 参数名       | 参数说明 | 备注 |
| ------------ | -------- | ---- |
| id           | 用户id   |      |
| username     | 用户名   |      |
| password     | 密码     |      |
| nickname     | 绰号     |      |
| email        | 邮箱     |      |
| phone        | 电话     |      |
| address      | 地址     |      |
| avatarUrl    | 头像     |      |
| count        | 文章数量 |      |
| sex          | 性别     |      |
| brief        | 个人简介 |      |
| nameofshcool | 学校     |      |
| education    | 教育     |      |
| major        | 专业     |      |
| schooltime   | 入学时间 |      |
| birthday     | 生日     |      |

4）响应数据

```
 {
        "id": 97,
        "username": "213123",
        "password": "123456",
        "nickname": "123123",
        "email": "123123@qq.com",
        "phone": "1234456",
        "address": "中国石油大学(华东)",
        "avatarUrl": "http://localhost:9090/file/52c0e6f7bbb74a5fb464ca5a74f0b2bd.png",
        "count": null,
        "sex": null,
        "brief": "奥术大师多",
        "nameofshcool": null,
        "education": null,
        "major": null,
        "schooltime": null,
        "birthday": null
    }
```

#### 1.2.3删除用户接口

1）

请求路径：user/{id}

请求方法：delete

2）请求参数

| 参数名 | 参数说明 | 备注 |
| ------ | -------- | ---- |
| id     | 用户id   |      |

#### 1.2.4分页查询户接口

1）

请求路径：user/page

请求方法：get

2）请求参数

| 参数名   | 参数说明 | 备注                           |
| -------- | -------- | ------------------------------ |
| pageNum  | 页数     |                                |
| pageSize | 页大小   |                                |
| username | 用户名   | 默认为空，避免搜索为空时的报错 |
| email    | 邮箱     | 默认为空                       |
| address  | 地址     | 默认为空                       |

3）响应参数

同查找用户数据接口

#### 1.2.5批量删除用户接口

1）

请求路径：user/del/batch

请求方法：post

2）请求参数

| 参数名 | 参数说明 | 备注 |
| ------ | -------- | ---- |
| ids    | 用户集合 |      |

#### 1.2.6通过id查找用户数据接口

1）

请求路径：user/searchAllInfor

请求方法：post

2）请求参数

| 参数名 | 参数说明     | 备注 |
| ------ | ------------ | ---- |
| user   | 用户对象实体 |      |

#### 1.2.7导出用户数据

1）

请求路径：user/export

请求方法：get

2）请求参数

| 参数名   | 参数说明 | 备注 |
| -------- | -------- | ---- |
| response | 请求响应 |      |

#### 1.2.8导出用户数据

1）

请求路径：user/import

请求方法：post

2）请求参数

| 参数名   | 参数说明 | 备注 |
| -------- | -------- | ---- |
| response | 请求响应 |      |

#### 1.2.9登录接口

1）

请求路径：user/login

请求方法：post

2）请求参数

| 参数名  | 参数说明 | 备注 |
| ------- | -------- | ---- |
| userDTO | 用户对象 |      |

#### 1.2.10注册接口

1)

请求路径：user/register

请求方法：post

2）请求参数

| 参数名  | 参数说明 | 备注 |
| ------- | -------- | ---- |
| userDTO | 用户对象 |      |

#### 1.2.11通过username查找用户数据接口

1)

请求路径：user/username/{username}

请求方法：get

2）请求参数

| 参数名   | 参数说明 | 备注 |
| -------- | -------- | ---- |
| username | 用户名   |      |

3）响应参数

| 参数名       | 参数说明 | 备注 |
| ------------ | -------- | ---- |
| code         | 状态码   |      |
| msg          | 信息     |      |
| id           | 用户id   |      |
| username     | 用户名   |      |
| password     | 密码     |      |
| nickname     | 绰号     |      |
| email        | 邮箱     |      |
| phone        | 电话     |      |
| address      | 地址     |      |
| avatarUrl    | 头像     |      |
| count        | 文章数量 |      |
| sex          | 性别     |      |
| brief        | 个人简介 |      |
| nameofshcool | 学校     |      |
| education    | 教育     |      |
| major        | 专业     |      |
| schooltime   | 入学时间 |      |
| birthday     | 生日     |      |

4）响应数据

```
{
    "code": "200",
    "msg": "",
    "data": {
        "id": 98,
        "username": "33",
        "password": "123456",
        "nickname": "admin1",
        "email": "123123@qq.com",
        "phone": "1234456",
        "address": "中国石油大学(华东)",
        "avatarUrl": "http://localhost:9090/file/c6fad73a5b16474f86b17e2f0873d39a.png",
        "count": null,
        "sex": null,
        "brief": "啊实打实",
        "nameofshcool": null,
        "education": null,
        "major": null,
        "schooltime": null,
        "birthday": null
    }
}
```

#### 1.2.12通过文章的作者id名称拿到作者的全部信息接口

1)

请求路径：user/findUserInfor/{articleId}

请求方法：get

2）请求参数

| 参数名    | 参数说明 | 备注 |
| --------- | -------- | ---- |
| articleId | 文章id   |      |

3）响应参数

同1.2.11

#### 1.2.13通过用户id查找用户信息接口

1)

请求路径：user/PersonalCenter/{userId}

请求方法：get

2）请求参数

| 参数名 | 参数说明 | 备注 |
| ------ | -------- | ---- |
| userId | 用户id   |      |

3）响应参数

同1.2.11

#### 1.2.14推荐用户接口

1)

请求路径：user/recommandUser

请求方法：get

2）请求参数

| 参数名 | 参数说明 | 备注 |
| ------ | -------- | ---- |
| 无     |          |      |

3）响应参数

同1.2.11

### 1.3文章接口

#### 1.3.1新增或修改文章接口

1）

请求路径：article

请求方法：post

2）请求参数

| 参数名  | 参数说明     | 备注 |
| ------- | ------------ | ---- |
| article | 文章实体对象 |      |

#### 1.3.2根据文章id删除文章接口

1）

请求路径：article/{id}

请求方法：delete

2）请求参数

| 参数名 | 参数说明 | 备注 |
| ------ | -------- | ---- |
| id     | 文章id   |      |

#### 1.3.3根据文章ids删除文章接口

1）

请求路径：article/del/batch

请求方法：delete

2）请求参数

| 参数名 | 参数说明     | 备注 |
| ------ | ------------ | ---- |
| ids    | 文章列表集合 |      |

#### 1.3.4可根据创建时间模糊查找文章接口

1）

请求路径：article

请求方法：get

2）请求参数

| 参数名 | 参数说明     | 备注   |
| ------ | ------------ | ------ |
| start  | 文章创建时间 | 可不填 |
| end    | 文章创建时间 | 可不填 |

3）响应数据

```
{
    "code": "200",
    "msg": "",
    "data": [
        {
            "id": 10,
            "name": "123",
            "content": "123",
            "user": "王浩",
            "time": "2022-07-15 11:09:53",
            "summary": "单纯为了更好看一些",
            "userid": "107",
            "typeid": 4,
            "readnumber": 8
        }]
}
```

#### 1.3.5根据id查找文章接口

1）

请求路径：article/{id}

请求方法：get

2）请求参数

| 参数名 | 参数说明 | 备注 |
| ------ | -------- | ---- |
| id     | 文章id   |      |

3)响应数据

同1.3.4

#### 1.3.6分页查找文章接口

1）

请求路径：article/page

请求方法：get

2）请求参数

| 参数名   | 参数说明 | 备注     |
| -------- | -------- | -------- |
| pageNum  | 页数     |          |
| pageSize | 页大小   |          |
| name     | 文章名   | 默认为空 |

3)响应数据

同1.3.4

#### 1.3.7分页查找用户文章接口

1）

请求路径：article/page/personalArticle

请求方法：get

2）请求参数

| 参数名   | 参数说明 | 备注     |
| -------- | -------- | -------- |
| pageNum  | 页数     |          |
| pageSize | 页大小   |          |
| name     | 文章名   | 默认为空 |
| user     | 用户     | 默认为空 |

3)响应数据

同1.3.4

#### 1.3.8分页查找个人文章接口

1）

请求路径：article/personalPage

请求方法：get

2）请求参数

| 参数名   | 参数说明 | 备注 |
| -------- | -------- | ---- |
| pageNum  | 页数     |      |
| pageSize | 页大小   |      |
| id       | 用户id   |      |

3)响应数据

同1.3.4

#### 1.3.9通过用户名拿到所用的文章接口

1）

请求路径：article/pageOfUsersArticle

请求方法：get

2）请求参数

| 参数名 | 参数说明 | 备注     |
| ------ | -------- | -------- |
| id     | 用户id   | 默认为空 |

3)响应数据

同1.3.4

#### 1.3.10建议文章接口

1）

请求路径：article/recommandArticle

请求方法：get

2）请求参数

| 参数名 | 参数说明 | 备注 |
| ------ | -------- | ---- |
| 无     |          |      |

3)响应数据

同1.3.4

### 1.4轮播接口

#### 1.4.1上传文件接口

1）

请求路径：carousel/upload

请求方法：post

2）请求参数

| 参数名 | 参数说明 | 备注 |
| ------ | -------- | ---- |
| file   | 文件实体 |      |

#### 1.4.2文件下载接口

1）

请求路径：carousel//{fileUUID}

请求方法：get

2）请求参数

| 参数名   | 参数说明       | 备注 |
| -------- | -------------- | ---- |
| fileUUID | 文件唯一标识符 |      |
| response | 请求响应       |      |

3)返回参数

无

#### 1.4.3通过文件的md5查取文件接口

1）

请求路径：carousel

请求方法：get

2）请求参数

| 参数名 | 参数说明         | 备注 |
| ------ | ---------------- | ---- |
| md5    | 原始的明文字符串 |      |

3）响应参数

carousel实体对象

#### 1.4.4查找所有的轮播接口

1）

请求路径：carousel

请求方法：get

2）请求参数

| 参数名 | 参数说明 | 备注 |
| ------ | -------- | ---- |
| 无     |          |      |

3）响应数据

```
[
    {
        "id": 8,
        "name": "微信小程序.png",
        "content": "微信小程序专题，精品小程序源码合集等你来看。",
        "url": "http://localhost:9090/carousel/c758efa5ac694624be3805f9fd00717b.png",
        "user": null,
        "time": null,
        "enable": "0",
        "md5": "ffb7517915f99914ada91a0e82291780"
    }
]
```

#### 1.4.5根据id删除轮播图接口

1）

请求路径：carousel/{id}

请求方法：delete

2）请求参数

| 参数名 | 参数说明 | 备注 |
| ------ | -------- | ---- |
| id     | 轮播图id |      |

#### 1.4.6分页查询轮播图接口

1）

请求路径：carousel/page

请求方法：get

2）请求参数

| 参数名   | 参数说明 | 备注     |
| -------- | -------- | -------- |
| pageNum  | 页数     |          |
| pageSize | 页大小   |          |
| name     | 文章名   | 默认为空 |

3)响应数据

同1.4.4

#### 1.4.7批量删除轮播图接口

1）

请求路径：carousel/del/batch

请求方法：post

2）请求参数

| 参数名 | 参数说明         | 备注 |
| ------ | ---------------- | ---- |
| ids    | 轮播图id列表集合 |      |

### 1.5评论接口

#### 1.5.1新增或者更新接口

1）

请求路径：comment

请求方法：post

2）请求参数

| 参数名  | 参数说明     | 备注 |
| ------- | ------------ | ---- |
| comment | 评论实体对象 |      |

#### 1.5.2根据id删除评论接口

1）

请求路径：comment/{id}

请求方法：delete

2）请求参数

| 参数名 | 参数说明   | 备注 |
| ------ | ---------- | ---- |
| id     | 评论对象id |      |

#### 1.5.3批量删除评论接口

1）

请求路径：comment//del/batch

请求方法：post

2）请求参数

| 参数名 | 参数说明           | 备注 |
| ------ | ------------------ | ---- |
| ids    | 评论对象id列表集合 |      |

#### 1.5.4查找所有评论接口

1）

请求路径：comment

请求方法：get

2）请求参数

| 参数名 | 参数说明 | 备注 |
| ------ | -------- | ---- |
| 无     |          |      |

#### 1.5.5根据文章id 查询所有的评论和回复数据接口

1）

请求路径：comment/tree/{articleId}

请求方法：get

2）请求参数

| 参数名    | 参数说明 | 备注 |
| --------- | -------- | ---- |
| articleId | 文章id   |      |

3）响应数据

{

  "code": "200",

  "msg": "",

  "data": [

​    {

​      "id": -167649278,

​      "content": "哈哈哈哈哈哈哈哈或或或",

​      "userId": 114,

​      "time": "2022-07-21 10:52:31",

​      "pid": **null**,

​      "originId": **null**,

​      "articleId": 35,

​      "nickname": "张三",

​      "avatarUrl": "http://localhost:9090/file/52c0e6f7bbb74a5fb464ca5a74f0b2bd.png",

​      "children": [

​        {

​          "id": -1711206399,

​          "content": "asd",

​          "userId": 107,

​          "time": "2022-07-24 17:54:25",

​          "pid": -167649278,

​          "originId": -167649278,

​          "articleId": 35,

​          "nickname": "王浩",

​          "avatarUrl": "http://localhost:9090/file/5b0583b0411a4f30bbea7f237a0261f4.jpeg",

​          "children": **null**,

​          "puserId": 114,

​          "pnickname": "张三"

​        }

​      ],

​      "puserId": **null**,

​      "pnickname": **null**

​    }]

}

#### 1.5.6根据id 查询所有的评论接口

1）

请求路径：comment/{id}

请求方法：get

2）请求参数

| 参数名 | 参数说明 | 备注 |
| ------ | -------- | ---- |
| id     | 评论id   |      |

3）响应数据

{

  "code": "200",

  "msg": "",

  "data": {

​    "id": -1904091134,

​    "content": "阿萨德撒大",

​    "userId": 114,

​    "time": "2022-07-21 10:51:48",

​    "pid": -1602195454,

​    "originId": -1967067134,

​    "articleId": 35,

​    "nickname": **null**,

​    "avatarUrl": **null**,

​    "children": **null**,

​    "puserId": **null**,

​    "pnickname": **null**

  }

}

#### 1.5.7分页查询评论接口

1）

请求路径：comment/page

请求方法：get

2）请求参数

| 参数名   | 参数说明 | 备注 |
| -------- | -------- | ---- |
| pageNum  | 页数     |      |
| pageSize | 页大小   |      |

### 1.6文件接口

#### 1.6.1上传文件接口

1）

请求路径：file/upload

请求方法：post

2）请求参数

| 参数名 | 参数说明 | 备注 |
| ------ | -------- | ---- |
| file   | 文件实体 |      |

#### 1.6.2文件下载接口

1）

请求路径：file//{fileUUID}

请求方法：get

2）请求参数

| 参数名   | 参数说明       | 备注 |
| -------- | -------------- | ---- |
| fileUUID | 文件唯一标识符 |      |
| response | 请求响应       |      |

3)返回参数

无

#### 1.6.3通过文件的md5查取文件接口

1）

请求路径：file

请求方法：get

2）请求参数

| 参数名 | 参数说明         | 备注 |
| ------ | ---------------- | ---- |
| md5    | 原始的明文字符串 |      |

3）响应参数

files实体对象

#### 1.6.4更新文件接口

1）

请求路径：file

请求方法：post

2）请求参数

| 参数名 | 参数说明      | 备注 |
| ------ | ------------- | ---- |
| files  | files实体对象 |      |

#### 1.6.5查取所有文件接口

1）

请求路径：file

请求方法：get

2）请求参数

| 参数名 | 参数说明 | 备注 |
| ------ | -------- | ---- |
| 无     |          |      |

3）响应数据

 {

​    "id": 44,

​    "name": "960df05a939e46e5b4384840667e405d (3).png",

​    "type": "png",

​    "size": 1,

​    "url": "http://localhost:9090/file/51995474f5624d4d8d0453c3f54ba959.png",

​    "isDelete": "0",

​    "enable": "1",

​    "md5": "9b66659b1313d43650009c6f15c73cc6"

  }

#### 1.6.6根据文件id删除文件接口

1）

请求路径：file/{id}

请求方法：delete

2）请求参数

| 参数名 | 参数说明 | 备注 |
| ------ | -------- | ---- |
| id     | 文件id   |      |

#### 1.6.7分页查询文件接口

1）

请求路径：file/page

请求方法：get

2）请求参数

| 参数名   | 参数说明 | 备注                          |
| -------- | -------- | ----------------------------- |
| pageNum  | 页数     |                               |
| pageSize | 页大小   |                               |
| name     | 文章名   | 默认为空,避免搜索为空时的报错 |
| user     | 用户     | 默认为空                      |

#### 1.6.8批量删除文件接口

1）

请求路径：file/del/batch

请求方法：post

2）请求参数

| 参数名 | 参数说明       | 备注 |
| ------ | -------------- | ---- |
| ids    | 文件id列表集合 |      |

### 1.7类型接口

#### 1.7.1新增或修改类型接口

1）

请求路径：type

请求方法：post

2）请求参数

| 参数名 | 参数说明     | 备注 |
| ------ | ------------ | ---- |
| type   | 类型实体对象 |      |

#### 1.7.2查找所有类型接口

1）

请求路径：type

请求方法：get

2）请求参数

| 参数名 | 参数说明 | 备注 |
| ------ | -------- | ---- |
| 无     |          |      |

3)响应数据

{

  "code": "200",

  "msg": "",

  "data": [

​    {

​      "id": 1,

​      "name": "微信小程序源码合集",

​      "content": "微信小程序，简称小程序，英文名Mini Program，是一种不需要下载安装即可使用的应用，它实现了应用\"触手可及\"的梦想，用户扫一扫或搜一下即可打开应用。",

​      "url": "http://localhost:9090/file/3e601905633542df99d25b5d879bbd25.png",

​      "children": [

​        {

​          "id": 16,

​          "name": "asdasdsadsaASDASDSADDSA",

​          "content": "dasdsadasdsadsadsDSADSADSADSADSAD",

​          "user": "王浩",

​          "time": "2022-07-16 11:09:20",

​          "summary": **null**,

​          "userid": "107",

​          "typeid": 1,

​          "readnumber": 1

​        },

​        {

​          "id": 17,

​          "name": "ASD",

​          "content": "SAD",

​          "user": "王浩",

​          "time": "2022-07-16 11:11:50",

​          "summary": **null**,

​          "userid": "107",

​          "typeid": 1,

​          "readnumber": 0

​        },

​        {

​          "id": 18,

​          "name": "ASD",

​          "content": "SAD",

​          "user": "王浩",

​          "time": "2022-07-16 11:11:57",

​          "summary": **null**,

​          "userid": "107",

​          "typeid": 1,

​          "readnumber": 0

​        }

​      ]

​    }]

}

#### 1.7.3根据类型名查找所有文章接口

1）

请求路径：type/findAllByTypeName/{name}

请求方法：get

2）请求参数

| 参数名 | 参数说明 | 备注 |
| ------ | -------- | ---- |
| name   | 文章名   |      |

3）响应数据

同1.7.2

#### 1.7.4根据类型id删除类型接口

1）

请求路径：type/{id}

请求方法：delete

2）请求参数

| 参数名 | 参数说明 | 备注 |
| ------ | -------- | ---- |
| id     | 类型id   |      |

#### 1.7.5分页查询类型接口

1）

请求路径：type/page

请求方法：get

2）请求参数

| 参数名   | 参数说明 | 备注     |
| -------- | -------- | -------- |
| pageNum  | 页数     |          |
| pageSize | 页大小   |          |
| name     | 类型名   | 默认为空 |

#### 1.7.6批量删除类型接口

1）

请求路径：type/del/batch

请求方法：post

2）请求参数

| 参数名 | 参数说明        | 备注 |
| ------ | --------------- | ---- |
| ids    | 类型ids列表集合 |      |
